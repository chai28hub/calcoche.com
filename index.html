<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Calculadora Importación Dubái → España</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="estilos.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2994166354624544"
     crossorigin="anonymous"></script>
</head>
<body>

<div class="calc-container">
    <h2>Calculadora Importación Dubái → España</h2>

    <label>Precio del coche en Dubái (AED):</label>
    <input type="number" id="precioDubai" placeholder="Introduce precio en AED" required>

    <label>Emisiones CO₂:</label>
    <select id="co2">
        <option value="0">Menos de 120 g/km (0%)</option>
        <option value="0.0475">120-160 g/km (4,75%)</option>
        <option value="0.0975">160-200 g/km (9,75%)</option>
        <option value="0.1475" selected>Más de 200 g/km (14,75%)</option>
    </select>

    <button onclick="calcular()">Calcular Precio Final</button>

    <div id="resultado" class="result" style="display:none;"></div>

    <div id="contacto" class="contact-form" style="display:none;">
        <h3>¿Quieres una estimación exacta?</h3>
        <p>Déjanos tus datos y te enviaremos el cálculo preciso y opciones de importación.</p>
        <input type="text" id="nombre" placeholder="Tu nombre" required>
        <input type="email" id="email" placeholder="Tu correo" required>
        <textarea id="mensaje" placeholder="Detalles adicionales (opcional)"></textarea>
        <button onclick="enviarContacto()">Enviar</button>
    </div>
</div>

<script>
function calcular() {
    let precioDubai = parseFloat(document.getElementById("precioDubai").value);
    let tasaMatriculacion = parseFloat(document.getElementById("co2").value);

    if (!precioDubai) {
        alert("Por favor introduce un precio válido.");
        return;
    }

    // Conversión AED → EUR
    let precioEur = precioDubai * 0.25;

    // Costes fijos
    let transporte = 1700;
    let itv = 1620;
    let gastosExtra = 1500;

    // Cálculos importación
    let arancel = (precioEur + transporte) * 0.10;
    let iva = (precioEur + transporte + arancel) * 0.21;
    let matriculacion = precioEur * tasaMatriculacion;
    let precioFinal = precioEur + transporte + arancel + iva + matriculacion + itv + gastosExtra;

    // Mostrar resultados
    document.getElementById("resultado").style.display = "block";
    document.getElementById("resultado").innerHTML = `
        <h3>Resultado del cálculo:</h3>
        <p><b>Precio importación Dubái → España:</b> ${precioFinal.toLocaleString('es-ES', {minimumFractionDigits: 2})} €</p>
        <p>Desglose importación:</p>
        <ul>
            <li>Precio coche: ${precioEur.toLocaleString('es-ES', {minimumFractionDigits: 2})} €</li>
            <li>Transporte: ${transporte} €</li>
            <li>Arancel (10%): ${arancel.toLocaleString('es-ES', {minimumFractionDigits: 2})} €</li>
            <li>IVA (21%): ${iva.toLocaleString('es-ES', {minimumFractionDigits: 2})} €</li>
            <li>Tasa matriculación: ${matriculacion.toLocaleString('es-ES', {minimumFractionDigits: 2})} €</li>
            <li>ITV y homologación: ${itv} €</li>
            <li>Gastos extra: ${gastosExtra} €</li>
        </ul>
    `;

    document.getElementById("contacto").style.display = "block";
}

function enviarContacto() {
    let nombre = document.getElementById("nombre").value;
    let email = document.getElementById("email").value;

    if (!nombre || !email) {
        alert("Por favor rellena tu nombre y correo.");
        return;
    }

    alert("Gracias " + nombre + ". Hemos recibido tu solicitud y te contactaremos pronto.");
}
</script>

    <!-- rebuild -->

</body>
</html>
